From 7cd6c824f06bcbb7dbd64165ade04429cde1d124 Mon Sep 17 00:00:00 2001
From: "David R. Bild" <david.bild@xaptum.com>
Date: Wed, 20 Jun 2018 14:25:53 +0000
Subject: [PATCH 03/10] xaprc001: enable bootcount limit support for mender

---
 configs/xaprc001_defconfig     | 7 +++----
 configs/xaprc001_dev_defconfig | 5 +++--
 2 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/configs/xaprc001_defconfig b/configs/xaprc001_defconfig
index 6243368fe4..4da52f9826 100644
--- a/configs/xaprc001_defconfig
+++ b/configs/xaprc001_defconfig
@@ -4,8 +4,8 @@ CONFIG_SYS_TEXT_BASE=0x26f00000
 CONFIG_TARGET_XAPRC001=y
 CONFIG_SYS_MALLOC_F_LEN=0x2000
 CONFIG_DEFAULT_DEVICE_TREE="at91-xaprc001"
-CONFIG_SD_BOOT=y
 CONFIG_SYS_EXTRA_OPTIONS="SAMA5D2,SYS_USE_MMC"
+CONFIG_SD_BOOT=y
 CONFIG_BOOTDELAY=0
 CONFIG_CMD_BOOTZ=y
 CONFIG_CMD_ASKENV=y
@@ -15,9 +15,8 @@ CONFIG_OF_CONTROL=y
 CONFIG_ENV_IS_IN_MMC=y
 # CONFIG_NET is not set
 CONFIG_DM=y
-CONFIG_SPL_DM_SEQ_ALIAS=y
-CONFIG_REGMAP=y
-CONFIG_SYSCON=y
+CONFIG_BOOTCOUNT_LIMIT=y
+CONFIG_BOOTCOUNT_ENV=y
 CONFIG_CLK=y
 CONFIG_CLK_AT91=y
 CONFIG_AT91_UTMI=y
diff --git a/configs/xaprc001_dev_defconfig b/configs/xaprc001_dev_defconfig
index dba7cbc21f..342ca85a75 100644
--- a/configs/xaprc001_dev_defconfig
+++ b/configs/xaprc001_dev_defconfig
@@ -5,8 +5,8 @@ CONFIG_TARGET_XAPRC001=y
 CONFIG_SYS_MALLOC_F_LEN=0x2000
 CONFIG_DEFAULT_DEVICE_TREE="at91-xaprc001"
 CONFIG_DEBUG_UART=y
-CONFIG_SD_BOOT=y
 CONFIG_SYS_EXTRA_OPTIONS="SAMA5D2,SYS_USE_MMC"
+CONFIG_SD_BOOT=y
 CONFIG_BOOTDELAY=0
 CONFIG_CONSOLE_MUX=y
 CONFIG_HUSH_PARSER=y
@@ -18,7 +18,8 @@ CONFIG_OF_CONTROL=y
 CONFIG_ENV_IS_IN_MMC=y
 # CONFIG_NET is not set
 CONFIG_DM=y
-CONFIG_SPL_DM_SEQ_ALIAS=y
+CONFIG_BOOTCOUNT_LIMIT=y
+CONFIG_BOOTCOUNT_ENV=y
 CONFIG_CLK=y
 CONFIG_CLK_AT91=y
 CONFIG_AT91_UTMI=y
-- 
2.18.0

